package javamodules.streams;

import java.util.*;


public class Solution {

    public static void main(String[] args) {


        //System.out.println(findSubsequence(Arrays.asList(2,1,3,1,4,1,3)));
        //System.out.println(findSubsequence(Arrays.asList(1,1,1,3)));
        //System.out.println(findSubsequence(Arrays.asList(3,2,2,1,1)));
        List<Integer> out = findSubsequence(Arrays.asList(686661, 583072, 370319, 423388, 783268, 958904, 476174, 410977, 836025, 106408, 320776, 909686, 616293, 831933, 445402, 461104, 705311, 922420, 50867, 121303, 497326, 824449, 427223, 920744, 378931, 972361, 93597, 719060, 832604, 544167, 322482, 602751, 775602, 404330, 36821, 410753, 126092, 116885, 783448, 302696, 239193, 297951, 314789, 335156, 536475, 534833, 27575, 321050, 121190, 961770, 506781, 959106, 349861, 927134, 904378, 533001, 511574, 422227, 300807, 94720, 45257, 706242, 641552, 42283, 679524, 732, 849843, 182850, 945890, 441859, 197732, 84979, 184911, 739916, 433132, 345054, 773710, 675460, 796197, 587672, 78547, 591784, 199232, 694889, 343210, 110059, 59007, 73102, 363374, 32244, 962491, 187447, 654418, 945501, 707167, 307850, 619996, 864693, 316203, 949086, 199205, 735551, 704882, 216577, 887514, 303409, 478172, 841011, 479102, 316854, 934117, 749289, 6118, 994220, 752924, 607691, 323835, 792807, 556069, 563829, 250748, 220460, 535735, 762490, 82041, 57399, 261983, 484700, 662425, 247926, 113468, 793558, 16469, 174987, 762624, 597650, 113850, 877197, 244149, 166643, 169387, 196040, 518646, 661773, 308189, 476600, 388081, 257128, 236570, 52242, 684524, 577600, 656639, 272956, 263101, 910152, 816829, 287888, 397905, 373474, 263259, 464989, 180326, 254056, 267378, 615718, 734160, 590503, 933488, 256097, 311736, 126367, 477590, 515128, 863448, 318404, 572346, 19852, 857344, 198912, 264262, 618989, 964501, 762926, 370615, 209955, 190796, 653857, 454302, 852840, 679091, 403675, 613475, 908844, 121769, 266710, 333117, 500624, 326881, 284607, 639931, 974571, 787043, 916341, 636926, 213896, 16459, 151631, 234684, 485542, 473288, 906451, 872063, 375095, 11742, 286528, 881508, 941537, 376741, 311557, 392477, 235264, 589255, 731527, 84911, 1762, 78022, 317087, 528309, 286857, 635508, 187546, 689947, 215597, 290040, 593655, 780707, 645048, 917776, 659500, 467620, 198600, 944458, 385506, 398214, 879664, 716873, 49716, 696775, 294903, 463110, 320500, 108729, 860759, 951373, 936743, 62337, 329471, 767228, 457732, 104922, 515410, 321543, 782008, 501072, 417318, 247927, 874084, 569286, 279430, 96166, 42333, 449904, 371632, 798084, 967724, 932057, 229016, 827733, 641932, 681951, 578659, 526257, 311791, 492594, 523565, 335171, 84921, 223896, 571588, 520267, 975427, 480364, 983914, 505116, 551641, 683291, 151958, 198366, 188349, 631397, 89716, 323789, 695586, 261538, 684897, 727928, 567153, 884346, 491696, 995075, 292743, 699948, 42727, 72805, 876853, 825544, 69122, 222315, 99647, 856629, 305967, 321075, 920542, 626732, 944657, 899122, 679486, 861754, 417278, 445359, 673344, 788034, 220161, 586949, 395769, 834233, 307544, 397221, 186930, 853033, 70198, 286737, 132326, 975726, 888642, 73571, 695174, 934908, 359511, 995460, 504952, 789015, 936770, 614901, 580052, 11673, 564615, 545033, 572262, 397039, 634077, 808489, 384815, 874012, 181165, 901967, 659748, 25205, 721879, 181707, 631661, 714852, 437804, 760129, 579623, 131174, 273973, 742569, 822051, 166156, 509995, 680654, 248165, 862910, 735229, 720, 785061, 242163, 737741, 85346, 911441, 205498, 552307, 828044, 29321, 604468, 610040, 525482, 419234, 584983, 780061, 391019, 875428, 881581, 16850, 192723, 315596, 98643, 460543, 535865, 337611, 435962, 431294, 359562, 668932, 87914, 437918, 966596, 447250, 297338, 127330, 995836, 623552, 323097, 545664, 871640, 380623, 305416, 533347, 283734, 869044, 349790, 208426, 303683, 776919, 739139, 973478, 395269, 416852, 536437, 264864, 895506, 108542, 889670, 423888, 72630, 833879, 186203, 635431, 907153, 475546, 333807, 849478, 520343, 97522, 428686, 477509, 206158, 906048, 100186, 742317, 984979, 352792, 922122, 77118, 26005, 394244, 102822, 98666, 987609, 8960, 296332, 914392, 998964, 383548, 213614, 722658, 20, 573406, 646034, 387607, 669816, 353149, 631249, 802682, 217843, 250343, 317208, 516737, 499565, 694299, 637610, 277014, 980066, 354960, 379675, 186202, 599969, 556653, 1, 10, 17, 30, 30, 34, 40, 58, 60, 67, 75, 88, 113, 119, 119, 127, 127, 130, 145, 153, 166, 173, 211, 214, 215, 229, 254, 259, 261, 269, 283, 284, 291, 302, 308, 318, 322, 325, 352, 358, 367, 386, 410, 417, 428, 429, 429, 437, 452, 457, 463, 482, 490, 497, 498, 523, 559, 578, 580, 581, 627, 632, 639, 640, 643, 660, 661, 662, 671, 703, 713, 723, 728, 768, 808, 808, 833, 838, 841, 844, 847, 850, 868, 871, 872, 879, 883, 904, 906, 913, 914, 942, 943, 957, 960, 969, 975, 978, 990, 1024, 1048, 1103, 1156, 1170, 1177, 1184, 1211, 1217, 1221, 1225, 1230, 1234, 1242, 1258, 1269, 1292, 1292, 1299, 1315, 1326, 1355, 1373, 1375, 1376, 1384, 1387, 1392, 1393, 1394, 1403, 1407, 1424, 1426, 1437, 1471, 1475, 1485, 1486, 1509, 1509, 1527, 1536, 1544, 1544, 1544, 1554, 1563, 1563, 1567, 1568, 1572, 1585, 1612, 1639, 1651, 1652, 1662, 1669, 1680, 1685, 1697, 1703, 1721, 1727, 1749, 1762, 1771, 1772, 1779, 1816, 1819, 1820, 1840, 1855, 1858, 1872, 1879, 1884, 1896, 1917, 1925, 1928, 1944, 1951, 1955, 1959, 1978, 2026, 2042, 2052, 2058, 2076, 2088, 2090, 2117, 2129, 2141, 2143, 2149, 2159, 2178, 2204, 2212, 2217, 2217, 2222, 2222, 2228, 2277, 2293, 2318, 2320, 2320, 2327, 2343, 2363, 2386, 2387, 2406, 2408, 2414, 2414, 2417, 2418, 2446, 2458, 2476, 2493, 2513, 2520, 2535, 2593, 2605, 2606, 2607, 2641, 2642, 2655, 2656, 2658, 2661, 2664, 2670, 2679, 2683, 2693, 2695, 2698, 2704, 2705, 2706, 2706, 2714, 2728, 2729, 2729, 2743, 2745, 2745, 2761, 2776, 2776, 2783, 2795, 2808, 2813, 2815, 2831, 2843, 2854, 2864, 2870, 2894, 2906, 2915, 2917, 2929, 2935, 2948, 2956, 2963, 2967, 2970, 2972, 2995, 2999, 3003, 3004, 3007, 3008, 3025, 3047, 3064, 3065, 3076, 3083, 3086, 3099, 3104, 3115, 3128, 3131, 3135, 3140, 3147, 3156, 3157, 3168, 3208, 3211, 3217, 3218, 3221, 3229, 3237, 3242, 3245, 3248, 3259, 3291, 3294, 3297, 3307, 3313, 3313, 3313, 3323, 3324, 3328, 3337, 3345, 3349, 3360, 3366, 3367, 3376, 3380, 3384, 3420, 3425, 3427, 3431, 3435, 3440, 3441, 3442, 3445, 3449, 3456, 3457, 3468, 3476, 3478, 3492, 3496, 3502, 3506, 3524, 3529, 3532, 3597, 3616, 3625, 3634, 3644, 3646, 3670, 3675, 3689, 3728, 3741, 3753, 3794, 3801, 3821, 3837, 3848, 3849, 3852, 3869, 3873, 3874, 3874, 3886, 3902, 3910, 3912, 3919, 3936, 3962, 3963, 3968, 3973, 3988, 3989, 3997, 4012, 4017, 4023, 4031, 4044, 4045, 4045, 4052, 4055, 4057, 4057, 4067, 4069, 4076, 4092, 4097, 4110, 4112, 4130, 4138, 4145, 4148, 4149, 4149, 4158, 4159, 4169, 4171, 4195, 4203, 4204, 4207, 4228, 4235, 4239, 4239, 4254, 4262, 4321, 4325, 4363, 4363, 4370, 4373, 4373, 4374, 4397, 4411, 4417, 4418, 4419, 4419, 4434, 4439, 4457, 4458, 4458, 4458, 4483, 4490, 4499, 4503, 4504, 4517, 4522, 4528, 4534, 4547, 4552, 4558, 4561, 4566, 4612, 4614, 4618, 4621, 4659, 4664, 4667, 4674, 4674, 4675, 4683, 4698, 4700, 4721, 4733, 4738, 4748, 4751, 4755, 4778, 4791, 4805, 4810, 4812, 4812, 4840, 4845, 4871, 4880, 4883, 4901, 4911, 4914, 4927, 4952, 4970, 4981, 4981, 4983, 4995, 4999, 5005, 5016, 5018, 5032, 5041, 5054, 5054, 5071, 5115, 5124, 5126, 5130, 5130, 5145, 5168, 5193, 5205, 5209, 5212, 5214, 5221, 5238, 5239, 5244, 5249, 5304, 5306, 5314, 5317, 5337, 5347, 5363, 5370, 5371, 5377, 5390, 5425, 5428, 5443, 5475, 5475, 5478, 5483, 5484, 5503, 5511, 5524, 5529, 5538, 5543, 5543, 5547, 5561, 5570, 5572, 5578, 5593, 5614, 5623, 5635, 5651, 5667, 5681, 5684, 5686, 5689, 5690, 5705, 5716, 5726, 5750, 5759, 5765, 5778, 5781, 5789, 5791, 5796, 5799, 5835, 5835, 5836, 5864, 5876, 5880, 5885, 5887, 5899, 5899, 5900, 5902, 5904, 5909, 5910, 5928, 5938, 5942, 5956, 5962, 5969, 5991, 5994, 6014, 6045, 6062, 6071, 6072, 6080, 6081, 6088, 6093, 6095, 6100, 6121, 6130, 6131, 6132, 6148, 6152, 6155, 6188, 6197, 6201, 6218, 6221, 6224, 6227, 6234, 6279, 6283, 6290, 6295, 6300, 6306, 6315, 6316, 6333, 6365, 6372, 6389, 6414, 6420, 6435, 6436, 6444, 6452, 6459, 6471, 6473, 6483, 6487, 6489, 6492, 6494, 6508, 6513, 6515, 6521, 6547, 6564, 6567, 6578, 6588, 6598, 6600, 6611, 6619, 6629, 6632, 6641, 6661, 6664, 6667, 6677, 6680, 6684, 6689, 6697, 6703, 6710, 6710, 6716, 6727, 6730, 6733, 6744, 6751, 6776, 6791, 6799, 6816, 6820, 6829, 6840, 6844, 6924, 6929, 6955, 6961, 6966, 6970, 6989, 6991, 6992, 6996, 6998, 7004, 7013, 7050, 7059, 7073, 7074, 7074, 7093, 7095, 7096, 7121, 7125, 7166, 7170, 7183, 7188, 7189, 7190, 7222, 7225, 7226, 7227, 7231, 7234, 7249, 7250, 7255, 7306, 7315, 7321, 7330, 7332, 7333, 7350, 7367, 7375, 7382, 7389, 7409, 7447, 7448, 7451, 7522, 7524, 7538, 7556, 7583, 7641, 7645, 7681, 7688, 7688, 7694, 7714, 7725, 7742, 7743, 7746, 7754, 7754, 7767, 7783, 7796, 7816, 7831, 7843, 7853, 7881, 7882, 7918, 7931, 7949, 7954, 7955, 7961, 7972, 7973, 7975, 8010, 8011, 8014, 8034, 8036, 8040, 8045, 8045, 8057, 8070, 8072, 8105, 8121, 8129, 8152, 8178, 8179, 8201, 8219, 8221, 8236, 8245, 8254, 8275, 8275, 8276, 8298, 8299, 8314, 8323, 8326, 8327, 8374, 8382, 8389, 8401, 8404, 8410, 8411, 8418, 8420, 8424, 8433, 8440, 8465, 8470, 8472, 8481, 8490, 8497, 8499, 8505, 8515, 8517, 8521, 8525, 8525, 8530, 8533, 8536, 8538, 8539, 8565, 8566, 8569, 8571, 8578, 8595, 8600, 8629, 8636, 8654, 8662, 8667, 8676, 8685, 8693, 8723, 8732, 8767, 8791, 8800, 8811, 8816, 8817, 8820, 8828, 8831, 8864, 8888, 8892, 8925, 8952, 8973, 8986, 8990, 9021, 9028, 9034, 9058, 9058, 9072, 9085, 9086, 9088, 9101, 9113, 9127, 9134, 9143, 9146, 9162, 9166, 9166, 9170, 9171, 9174, 9195, 9215, 9224, 9243, 9260, 9263, 9302, 9303, 9306, 9319, 9330, 9330, 9333, 9337, 9358, 9390, 9397, 9409, 9410, 9435, 9438, 9439, 9448, 9454, 9465, 9470, 9483, 9484, 9494, 9536, 9538, 9544, 9562, 9571, 9572, 9593, 9603, 9605, 9633, 9651, 9656, 9660, 9664, 9669, 9670, 9675, 9699, 9710, 9713, 9731, 9733, 9736, 9740, 9756, 9762, 9765, 9766, 9803, 9830, 9833, 9846, 9862, 9864, 9866, 9882, 9886, 9918, 9923, 9934, 9941, 9948, 9956, 9959, 9976, 9986, 10000, 10009, 10017, 10028, 10050, 10127, 10145, 10192, 10194, 10207, 10219, 10222, 10232, 10286, 10291, 10296, 10310, 10318, 10319, 10333, 10334, 10338, 10344, 10347, 10351, 10355, 10356, 10359, 10391, 10395, 10403, 10403, 10423, 10434, 10442, 10446, 10456, 10488, 10511, 10529, 10529, 10533, 10533, 10538, 10546, 10549, 10555, 10567, 10580, 10580, 10600, 10607, 10661, 10665, 10670, 10671, 10671, 10675, 10730, 10738, 10750, 10750, 10757, 10761, 10763, 10790, 10791, 10795, 10810, 10813, 10820, 10824));
        System.out.println(out.toString());

    }

    public static List<Integer> findSubsequence(List<Integer> arr) {

        //int arr[] = {2,1,3,1,4,1,3};
        System.out.println(arr);
        Set<Integer> set = new HashSet<>();
        List<Integer> outList = new ArrayList<>();
        int currentMax = Integer.MIN_VALUE;

        for(Integer i : arr){
            if(!set.contains(i)){
                set.add(i);
            }else{
                if(i>=currentMax){
                    currentMax=i;
                    outList.add(i);
                }else{
                    return Arrays.asList(-1);
                }
            }
        }

        return outList;
    }



}
